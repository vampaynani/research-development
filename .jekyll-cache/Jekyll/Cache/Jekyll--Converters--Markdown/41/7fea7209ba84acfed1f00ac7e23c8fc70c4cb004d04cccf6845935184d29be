I"G<p>En muchos de los proyectos que realizamos en la agencia tenemos la necesidad de cifrar información, para lo cual PHP nos brinda la ayuda de diversas librerías con las cuales podemos hacer cifrado, de una vía o simétrico(cifrar y descifrar el mensaje) y a continuación escribo los ejemplos de algunas de estas formas con PHP puro.</p>

<h2 id="cifrado-de-una-vía">Cifrado de una vía</h2>
<p>En este tipo de cifrado el texto se convierte en una cadena de rastreo con un algoritmo predefinido, siendo casi imposible descifrar el texto que origino esta cadena.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$msg</span> <span class="o">=</span> <span class="s2">"Hola Mundo"</span><span class="p">;</span>
<span class="nv">$encrypted</span> <span class="o">=</span> <span class="nb">mhash</span><span class="p">(</span> <span class="no">MHASH_CRC32</span><span class="p">,</span> <span class="nv">$msg</span> <span class="p">);</span>

<span class="k">echo</span> <span class="nv">$msg</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$encrypted</span><span class="p">;</span>
</code></pre></div></div>
<p>La función mhash acepta diversos tipos de constante para pasar como primer argumento del cifrado, la lista completa se encuentra en la <a href="http://php.net/manual/en/mhash.constants.php">documentación de PHP</a>.</p>

<h2 id="cífrado-simétrico">Cífrado simétrico</h2>
<p>Este cifrado utiliza una llave, esto permite que el texto se convierta en un texto cifrado el cual a su vez, si se cuenta con la llave correcta puede ser descifrado y convertido a texto legible.</p>
<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$msg</span> <span class="o">=</span> <span class="s2">"Hola Mundo"</span><span class="p">;</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="s2">"Abrete Sesamo"</span>
<span class="k">echo</span> <span class="nv">$msg</span> <span class="mf">.</span> <span class="s1">' :: '</span> <span class="mf">.</span> <span class="nv">$key</span><span class="p">;</span>

<span class="nv">$encrypted</span> <span class="o">=</span> <span class="nb">mcrypt_ecb</span><span class="p">(</span> <span class="no">MCRYPT_DES</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$msg</span><span class="p">,</span> <span class="no">MCRYPT_ENCRYPT</span> <span class="p">);</span>
<span class="k">echo</span> <span class="nv">$encrypted</span><span class="p">;</span>

<span class="nv">$decrypted</span> <span class="o">=</span> <span class="nb">mcrypt_ecb</span><span class="p">(</span> <span class="no">MCRYPT_DES</span><span class="p">,</span> <span class="nv">$key</span><span class="p">,</span> <span class="nv">$msg</span><span class="p">,</span> <span class="no">MCRYPT_DECRYPT</span> <span class="p">);</span>
<span class="k">echo</span> <span class="nv">$decrypted</span><span class="p">;</span>
</code></pre></div></div>
<p>Cómo se ve en el código, la función mcrypt_ecb sirve para cifrar y descifrar un texto determinado siempre y cuando se cuente con la llave correcta. No hay que olvidar tomar en cuenta que <em>MCRYPT_ENCRYPT</em> se usa para cifrar el mensaje mientras que <em>MCRYPT_DECRYPT</em> se usa para descifrarlo.</p>
:ET